webpackJsonp([1],{"5Tmw":function(e,t){},"7zck":function(e,t){},"993r":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-toolbar",{attrs:{app:""}},[n("v-btn",{attrs:{icon:"",to:{name:"Projects"}}},[n("v-icon",[e._v("slideshow")])],1),e._v(" "),e.$root.auth?n("v-btn",{attrs:{icon:"",to:{name:"Teams"}}},[n("v-icon",[e._v("group")])],1):e._e(),e._v(" "),e.$root.auth?n("v-btn",{attrs:{icon:"",to:{name:"People"}}},[n("v-icon",[e._v("person")])],1):e._e(),e._v(" "),n("v-toolbar-title",{domProps:{textContent:e._s("IT-Цех")}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{icon:"",to:{name:"Login"}}},[n("v-icon",[e._v("vpn_key")])],1)],1),e._v(" "),n("v-content",[n("router-view")],1)],1)},staticRenderFns:[]},s=n("VU/8")({name:"App"},o,!1,null,null,null).exports,i=n("/ocq"),r=n("mtWM"),l=n.n(r).a.create({baseURL:"https://dev-it-workshop.herokuapp.com/",timeout:1e3}),c=n("woOf"),p=n.n(c),d=n("fZjL"),u=n.n(d),v={props:{value:{type:Object,required:!0}},name:"person",data:function(){return{person:this.value,edited:!1,loading:!1,created:!1}},mounted:function(){0===u()(this.person).length&&(this.edited=!0,this.created=!0,this.person={name:"",skills:[]})},methods:{createPerson:function(){var e=this;this.loading=!0,l.post("people",{name:this.person.name,skills:this.person.skills},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(t){e.person=p()(e.person,t.data),e.$emit("input",e.person),e.loading=!1,e.edited=!1,e.created=!1})},updatePerson:function(){var e=this;this.loading=!0,l.put("people/"+this.person._id,{name:this.person.name,skills:this.person.skills},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(t){e.loading=!1,e.edited=!1})},deletePerson:function(){var e=this;this.loading=!0,this.person._id?l.delete("people/"+this.person._id).then(function(t){e.loading=!1,e.$emit("delete",e.person)}):this.$emit("delete",this.person)}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-text",[n("v-container",[n("v-layout",[n("v-flex",{attrs:{xs11:""}},[e.edited?n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Имя"},model:{value:e.person.name,callback:function(t){e.$set(e.person,"name",t)},expression:"person.name"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-select",{attrs:{items:[],label:"Навыки",chips:"",tags:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("v-chip",{key:JSON.stringify(t.item),staticClass:"chip--select-multi",on:{input:function(e){t.parent.selectItem(t.item)}}},[e._v("\n                    "+e._s(t.item)+"\n                  ")])]}}]),model:{value:e.person.skills,callback:function(t){e.$set(e.person,"skills",t)},expression:"person.skills"}})],1)],1):n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[e._v("\n              "+e._s(e.person.name)+"\n            ")]),e._v(" "),n("v-flex",{attrs:{xs12:""}},e._l(e.person.skills,function(t){return n("v-chip",{key:t},[e._v("\n                "+e._s(t)+"\n              ")])}))],1)],1),e._v(" "),n("v-flex",{attrs:{xs1:""}},[e.edited?e._e():n("v-btn",{attrs:{flat:"",fab:"",icon:""},on:{click:function(t){e.edited=!0}}},[n("v-icon",[e._v("edit")])],1),e._v(" "),e.edited?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:e.loading},on:{click:e.deletePerson}},[n("v-icon",[e._v("delete")])],1):e._e(),e._v(" "),e.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:e.loading},on:{click:e.createPerson}},[n("v-icon",[e._v("save")])],1):e._e(),e._v(" "),e.edited&&!e.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:e.loading},on:{click:e.updatePerson}},[n("v-icon",[e._v("done")])],1):e._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var h={name:"people",components:{Person:n("VU/8")(v,m,!1,function(e){n("993r")},"data-v-4a4bde06",null).exports},data:function(){return{people:null,dialog:!1,newPerson:{name:"",skills:[]},edited:{}}},methods:{get:function(){var e=this;l.get("people").then(function(t){e.people=t.data._items})},add:function(){this.people.unshift({})},remove:function(e){e._id?this.people=this.people.filter(function(t){return t._id!==e._id}):this.people.splice(0,1)}},mounted:function(){this.get()}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[e._l(e.people,function(t,a){return[n("v-flex",{attrs:{xs4:""}},[n("person",{key:t._id,attrs:{value:t},on:{input:function(t){e.people[a]=t},delete:e.remove}})],1)]})],2),e._v(" "),n("v-btn",{attrs:{fab:"",fixed:"",right:"",bottom:"",color:"pink"},on:{click:e.add}},[n("v-icon",[e._v("add")])],1)],1)},staticRenderFns:[]},_=n("VU/8")(h,f,!1,null,null,null).exports,g={name:"teams-select",props:{value:{required:!0},label:{type:String},single:{type:Boolean,default:!1}},methods:{getTeams:function(){var e=this;this.loading=!0;var t={};this.search&&(t.where='{"name": {"$regex": ".*'+this.search+'.*"}}'),l.get("teams",{params:t}).then(function(t){e.loading=!1,e.teams=t.data._items})},remove:function(e){this.$emit("input",this.value.filter(function(t){return t._id!==e._id}))},add:function(e){this.search=null,this.$emit("input",this.value.concat(e))},select:function(e){this.$emit("input",e)}},watch:{search:function(){this.getTeams()}},data:function(){return{teams:[],search:"",loading:!1}},mounted:function(){this.getTeams()}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.single?[n("v-select",{attrs:{label:e.label,items:e.teams,value:e.value,loading:e.loading,"item-text":"name","item-value":"_id","return-object":"",autocomplete:"","search-input":e.search},on:{input:e.select,"update:searchInput":function(t){e.search=t}}})]:[n("v-select",{attrs:{label:e.label,items:e.teams,value:e.search,filter:function(t,n){return!e.value.some(function(e){return e._id===t._id})&&t.name.includes(n)},search:e.search,loading:e.loading,"item-text":"name","item-value":"_id","return-object":"",autocomplete:"","search-input":e.search},on:{input:e.add,"update:searchInput":function(t){e.search=t}}}),e._v(" "),e._l(e.value,function(t){return n("v-chip",{key:t._id,staticClass:"chip--select-multi",attrs:{close:""},on:{input:function(n){e.remove(t)}}},[e._v("\n      "+e._s(t.name)+"\n    ")])})]],2)},staticRenderFns:[]};var b=n("VU/8")(g,x,!1,function(e){n("i93a")},"data-v-8783573e",null).exports,j={name:"people-select",props:{value:{type:Array},label:{type:String}},methods:{getPeople:function(){var e=this;this.loading=!0;var t={};this.search&&(t.where='{"name": {"$regex": ".*'+this.search+'.*"}}'),l.get("people",{params:t}).then(function(t){e.loading=!1,e.people=t.data._items})},remove:function(e){this.$emit("input",this.value.filter(function(t){return t._id!==e._id}))},add:function(e){this.search=null,this.$emit("input",this.value.concat(e)),console.log(e)}},watch:{search:function(){this.getPeople()}},data:function(){return{people:[],search:"",loading:!1}},mounted:function(){this.getPeople()}},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-select",{attrs:{label:e.label,items:e.people,value:e.search,filter:function(t,n){return!e.value.some(function(e){return e._id===t._id})&&t.name.includes(n)},search:e.search,loading:e.loading,"item-text":"name","item-value":"_id","return-object":"",autocomplete:"","search-input":e.search},on:{input:e.add,"update:searchInput":function(t){e.search=t}}}),e._v(" "),e._l(e.value,function(t){return n("v-chip",{key:t._id,staticClass:"chip--select-multi",attrs:{close:""},on:{input:function(n){e.remove(t)}}},[e._v("\n    "+e._s(t.name)+"\n  ")])})],2)},staticRenderFns:[]};var $=n("VU/8")(j,k,!1,function(e){n("oaGV")},"data-v-53e746d3",null).exports,w={components:{PeopleSelect:$,TeamsSelect:b},props:{value:{type:Object,required:!0}},name:"project",data:function(){return{project:this.value,edited:!1,loading:!1,created:!1}},mounted:function(){0===u()(this.project).length&&(this.edited=!0,this.created=!0,this.project=this.default())},methods:{createProject:function(){var e=this;this.loading=!0,l.post("projects",{title:this.project.title,short_description:this.project.short_description,full_description:this.project.full_description,link:this.project.link,progress:this.project.progress,source:this.project.source,team:this.project.team&&this.project.team._id,company:this.project.company,mentors:this.project.mentors.map(function(e){return e._id})},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(t){e.project=p()(e.project,t.data),e.$emit("input",e.project),e.loading=!1,e.edited=!1,e.created=!1})},updateProject:function(){var e=this;this.loading=!0,l.put("projects/"+this.project._id,{title:this.project.title,short_description:this.project.short_description,progress:this.project.progress,full_description:this.project.full_description,link:this.project.link,source:this.project.source,team:this.project.team&&this.project.team._id,company:this.project.company,mentors:this.project.mentors.map(function(e){return e._id})},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(t){e.loading=!1,e.edited=!1})},deleteProject:function(){var e=this;this.loading=!0,this.project._id?l.delete("projects/"+this.project._id).then(function(t){e.loading=!1,e.$emit("delete",e.project)}):this.$emit("delete",this.project)},default:function(){return{title:"",short_description:"",full_description:"",link:"",progress:0,source:"",company:"",team:{},mentors:[]}}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-text",[n("v-container",[n("v-layout",[n("v-flex",{attrs:{xs11:""}},[e.edited?[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Название проекта",required:""},model:{value:e.project.title,callback:function(t){e.$set(e.project,"title",t)},expression:"project.title"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-slider",{attrs:{label:"Прогресс","thumb-label":""},model:{value:e.project.progress,callback:function(t){e.$set(e.project,"progress",t)},expression:"project.progress"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Короткое описание",counter:120,"multi-line":"",rows:"2",required:""},model:{value:e.project.short_description,callback:function(t){e.$set(e.project,"short_description",t)},expression:"project.short_description"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Полное описание","multi-line":"",rows:"20",required:""},model:{value:e.project.full_description,callback:function(t){e.$set(e.project,"full_description",t)},expression:"project.full_description"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Ссылка на проект"},model:{value:e.project.link,callback:function(t){e.$set(e.project,"link",t)},expression:"project.link"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Ссылка на исходный код"},model:{value:e.project.source,callback:function(t){e.$set(e.project,"source",t)},expression:"project.source"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("teams-select",{attrs:{label:"Команда",single:""},model:{value:e.project.team,callback:function(t){e.$set(e.project,"team",t)},expression:"project.team"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("people-select",{attrs:{label:"Менторы"},model:{value:e.project.mentors,callback:function(t){e.$set(e.project,"mentors",t)},expression:"project.mentors"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Партнёр"},model:{value:e.project.company,callback:function(t){e.$set(e.project,"company",t)},expression:"project.company"}})],1)],1)]:[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs2:""}},[n("v-badge",{attrs:{right:"",overlap:"",color:"grey lighten-3",value:Object.keys(e.project.team||{}).length}},[n("v-icon",{attrs:{slot:"badge"},slot:"badge"},[e._v("group")]),e._v(" "),n("v-avatar",{staticStyle:{position:"absolute",margin:"5px"},attrs:{color:"pink lighten-3"}},[e._v("\n                    "+e._s()+"\n                  ")]),e._v(" "),n("v-progress-circular",{staticStyle:{transform:"scale(-1, 1)"},attrs:{value:e.project.progress,size:58,rotate:-90,color:"pink"}})],1)],1),e._v(" "),n("v-flex",{attrs:{xs10:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("p",{staticClass:"mb-0 title"},[e._v("\n                      "+e._s(e.project.title)+"\n                    ")])]),e._v(" "),e.project.company?n("v-flex",{attrs:{xs12:""}},[n("p",{staticClass:"subheading"},[e._v("\n                      От\n                      "),n("v-chip",[n("v-avatar",{attrs:{color:"red lighten-2"}},[e._v(" "+e._s(e.project.company.slice(0,1)))]),e._v("\n                        "+e._s(e.project.company)+"\n                      ")],1)],1)]):e._e()],1)],1)],1),e._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("p",{staticClass:"subheading"},[e._v("\n                  "+e._s(e.project.short_description)+"\n                ")])])],1)]],2),e._v(" "),n("v-flex",{attrs:{xs1:""}},[e.$root.auth&&!e.edited?n("v-btn",{attrs:{flat:"",fab:"",icon:""},on:{click:function(t){e.edited=!0}}},[n("v-icon",[e._v("edit")])],1):e._e(),e._v(" "),e.edited?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:e.loading},on:{click:e.deleteProject}},[n("v-icon",[e._v("delete")])],1):e._e(),e._v(" "),e.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:e.loading},on:{click:e.createProject}},[n("v-icon",[e._v("save")])],1):e._e(),e._v(" "),e.edited&&!e.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:e.loading},on:{click:e.updateProject}},[n("v-icon",[e._v("done")])],1):e._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var P={name:"projects",components:{Project:n("VU/8")(w,y,!1,function(e){n("rE3u")},"data-v-0e63e0f4",null).exports},data:function(){return{projects:[]}},mounted:function(){this.get()},methods:{get:function(){var e=this;l.get("projects",{params:{embedded:'{"team":1, "mentors":1}'}}).then(function(t){e.projects=t.data._items})},add:function(){this.projects.unshift({})},remove:function(e){e._id?this.projects=this.projects.filter(function(t){return t._id!==e._id}):this.projects.splice(0,1)}}},T={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"grid-list-md":"",fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[e._l(e.projects,function(t,a){return[n("v-flex",{attrs:{"offset-xs3":"",xs6:""}},[n("project",{key:t._id,attrs:{value:t},on:{delete:e.remove}})],1)]})],2),e._v(" "),e.$root.auth?n("v-btn",{attrs:{fab:"",fixed:"",right:"",bottom:"",color:"pink"},on:{click:e.add}},[n("v-icon",[e._v("add")])],1):e._e()],1)},staticRenderFns:[]};var E=n("VU/8")(P,T,!1,function(e){n("Wku3")},"data-v-5fcf4684",null).exports,V={components:{PeopleSelect:$},props:{value:{type:Object,required:!0}},name:"team",data:function(){return{team:this.value,edited:!1,loading:!1,created:!1}},mounted:function(){0===u()(this.team).length&&(this.edited=!0,this.created=!0,this.team={name:"",people:[]})},methods:{createTeam:function(){var e=this;this.loading=!0,l.post("teams",{name:this.team.name,people:this.team.people.map(function(e){return e._id})},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(t){e.team=p()(e.team,t.data),e.$emit("input",e.team),e.loading=!1,e.edited=!1,e.created=!1})},updateTeam:function(){var e=this;this.loading=!0,l.put("teams/"+this.team._id,{name:this.team.name,people:this.team.people.map(function(e){return e._id})},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(t){e.loading=!1,e.edited=!1})},deleteTeam:function(){var e=this;this.loading=!0,this.team._id?l.delete("teams/"+this.team._id).then(function(t){e.loading=!1,e.$emit("delete",e.team)}):this.$emit("delete",this.team)}}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-text",[n("v-container",[n("v-layout",[n("v-flex",{attrs:{xs11:""}},[e.edited?n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Имя"},model:{value:e.team.name,callback:function(t){e.$set(e.team,"name",t)},expression:"team.name"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("people-select",{attrs:{label:"Члены команды"},model:{value:e.team.people,callback:function(t){e.$set(e.team,"people",t)},expression:"team.people"}})],1)],1):n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[e._v("\n              "+e._s(e.team.name)+"\n            ")]),e._v(" "),n("v-flex",{attrs:{xs12:""}},e._l(e.team.people,function(t){return n("v-chip",{key:t.id},[e._v("\n                "+e._s(t.name)+"\n              ")])}))],1)],1),e._v(" "),n("v-flex",{attrs:{xs1:""}},[e.edited?e._e():n("v-btn",{attrs:{flat:"",fab:"",icon:""},on:{click:function(t){e.edited=!0}}},[n("v-icon",[e._v("edit")])],1),e._v(" "),e.edited?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:e.loading},on:{click:e.deleteTeam}},[n("v-icon",[e._v("delete")])],1):e._e(),e._v(" "),e.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:e.loading},on:{click:e.createTeam}},[n("v-icon",[e._v("save")])],1):e._e(),e._v(" "),e.edited&&!e.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:e.loading},on:{click:e.updateTeam}},[n("v-icon",[e._v("done")])],1):e._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var U={name:"teams",components:{Team:n("VU/8")(V,R,!1,function(e){n("phXp")},"data-v-15235e4f",null).exports},data:function(){return{teams:null,dialog:!1,newTeam:{name:"",people:[]},edited:{}}},methods:{add:function(){this.teams.unshift({})},remove:function(e){e._id?this.teams=this.teams.filter(function(t){return t._id!==e._id}):this.teams.splice(0,1)},get:function(){var e=this;l.get("teams",{params:{embedded:'{"people":1}'}}).then(function(t){e.teams=t.data._items})}},mounted:function(){this.get()}},F={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[e._l(e.teams,function(t,a){return[n("v-flex",{attrs:{xs4:""}},[n("team",{key:t._id,attrs:{value:t},on:{input:function(t){e.teams[a]=t},delete:e.remove}})],1)]})],2),e._v(" "),n("v-btn",{attrs:{fab:"",fixed:"",right:"",bottom:"",color:"pink"},on:{click:e.add}},[n("v-icon",[e._v("add")])],1)],1)},staticRenderFns:[]},S=n("VU/8")(U,F,!1,null,null,null).exports,q={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",[n("v-flex",{attrs:{"offset-xs4":"",xs4:""}},[n("v-card",[n("v-card-text",[n("v-text-field",{attrs:{label:"Юзернейм"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),n("v-text-field",{attrs:{label:"Пароль",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),n("v-btn",{attrs:{block:""},on:{click:e.login}},[e._v("\n            Войти\n          ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var C=n("VU/8")({name:"Login",data:function(){return{username:"",password:""}},methods:{login:function(){this.$root.username=this.username,this.$root.password=this.password,this.$root.auth=!0,this.$router.push({name:"Projects"})}}},q,!1,function(e){n("5Tmw")},"data-v-581e779b",null).exports;a.a.use(i.a);var O=new i.a({mode:"history",routes:[{path:"/people",name:"People",component:_},{path:"/projects",name:"Projects",component:E},{path:"/teams",name:"Teams",component:S},{path:"/login",name:"Login",component:C}]}),I=n("3EgV"),L=n.n(I);n("7zck");a.a.use(L.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:O,components:{App:s},data:function(){return{auth:!1,username:"",password:""}},template:"<App/>"})},Wku3:function(e,t){},i93a:function(e,t){},oaGV:function(e,t){},phXp:function(e,t){},rE3u:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7fbb68080995cccf9b5a.js.map