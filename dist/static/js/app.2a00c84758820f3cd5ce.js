webpackJsonp([1],{"58LR":function(t,e){},"7MGH":function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-toolbar",{attrs:{app:""}},[n("v-btn",{attrs:{icon:"",to:{name:"Projects"}}},[n("v-icon",[t._v("slideshow")])],1),t._v(" "),t.$root.auth?n("v-btn",{attrs:{icon:"",to:{name:"Teams"}}},[n("v-icon",[t._v("group")])],1):t._e(),t._v(" "),t.$root.auth?n("v-btn",{attrs:{icon:"",to:{name:"People"}}},[n("v-icon",[t._v("person")])],1):t._e(),t._v(" "),n("v-toolbar-title",{domProps:{textContent:t._s("IT-Цех")}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:"",to:{name:"Login"}}},[n("v-icon",[t._v("vpn_key")])],1)],1),t._v(" "),n("v-content",[n("router-view")],1)],1)},staticRenderFns:[]},s=n("VU/8")({name:"App"},o,!1,null,null,null).exports,i=n("/ocq"),r=n("mtWM"),l=n.n(r).a.create({baseURL:"https://master-it-workshop.herokuapp.com/",timeout:1e3}),c=n("woOf"),d=n.n(c),p=n("fZjL"),u=n.n(p),v={props:{value:{type:Object,required:!0}},name:"person",data:function(){return{person:this.value,edited:!1,loading:!1,created:!1}},mounted:function(){0===u()(this.person).length&&(this.edited=!0,this.created=!0,this.person={name:"",skills:[]})},methods:{createPerson:function(){var t=this;this.loading=!0,l.post("people",{name:this.person.name,skills:this.person.skills},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(e){t.person=d()(t.person,e.data),t.$emit("input",t.person),t.loading=!1,t.edited=!1,t.created=!1})},updatePerson:function(){var t=this;this.loading=!0,l.put("people/"+this.person._id,{name:this.person.name,skills:this.person.skills},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(e){t.loading=!1,t.edited=!1})},deletePerson:function(){var t=this;this.loading=!0,this.person._id?l.delete("people/"+this.person._id).then(function(e){t.loading=!1,t.$emit("delete",t.person)}):this.$emit("delete",this.person)}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-text",[n("v-container",[n("v-layout",[n("v-flex",{attrs:{xs11:""}},[t.edited?n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Имя"},model:{value:t.person.name,callback:function(e){t.$set(t.person,"name",e)},expression:"person.name"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-select",{attrs:{items:[],label:"Навыки",chips:"",tags:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[n("v-chip",{key:JSON.stringify(e.item),staticClass:"chip--select-multi",on:{input:function(t){e.parent.selectItem(e.item)}}},[t._v("\n                    "+t._s(e.item)+"\n                  ")])]}}]),model:{value:t.person.skills,callback:function(e){t.$set(t.person,"skills",e)},expression:"person.skills"}})],1)],1):n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[t._v("\n              "+t._s(t.person.name)+"\n            ")]),t._v(" "),n("v-flex",{attrs:{xs12:""}},t._l(t.person.skills,function(e){return n("v-chip",{key:e},[t._v("\n                "+t._s(e)+"\n              ")])}))],1)],1),t._v(" "),n("v-flex",{attrs:{xs1:""}},[t.edited?t._e():n("v-btn",{attrs:{flat:"",fab:"",icon:""},on:{click:function(e){t.edited=!0}}},[n("v-icon",[t._v("edit")])],1),t._v(" "),t.edited?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:t.loading},on:{click:t.deletePerson}},[n("v-icon",[t._v("delete")])],1):t._e(),t._v(" "),t.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:t.loading},on:{click:t.createPerson}},[n("v-icon",[t._v("save")])],1):t._e(),t._v(" "),t.edited&&!t.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:t.loading},on:{click:t.updatePerson}},[n("v-icon",[t._v("done")])],1):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var h={name:"people",components:{Person:n("VU/8")(v,m,!1,function(t){n("YqK5")},"data-v-3b9796e3",null).exports},data:function(){return{people:null,dialog:!1,newPerson:{name:"",skills:[]},edited:{}}},methods:{get:function(){var t=this;l.get("people").then(function(e){t.people=e.data._items})},add:function(){this.people.unshift({})},remove:function(t){t._id?this.people=this.people.filter(function(e){return e._id!==t._id}):this.people.splice(0,1)}},mounted:function(){this.get()}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[t._l(t.people,function(e,a){return[n("v-flex",{attrs:{xs4:""}},[n("person",{key:e._id,attrs:{value:e},on:{input:function(e){t.people[a]=e},delete:t.remove}})],1)]})],2),t._v(" "),n("v-btn",{attrs:{fab:"",fixed:"",right:"",bottom:"",color:"pink"},on:{click:t.add}},[n("v-icon",[t._v("add")])],1)],1)},staticRenderFns:[]},_=n("VU/8")(h,f,!1,null,null,null).exports,g={name:"teams-select",props:{value:{required:!0},label:{type:String},single:{type:Boolean,default:!1}},methods:{getTeams:function(){var t=this;this.loading=!0;var e={};this.search&&(e.where='{"name": {"$regex": ".*'+this.search+'.*"}}'),l.get("teams",{params:e}).then(function(e){t.loading=!1,t.teams=e.data._items})},remove:function(t){this.$emit("input",this.value.filter(function(e){return e._id!==t._id}))},add:function(t){this.search=null,this.$emit("input",this.value.concat(t))},select:function(t){this.$emit("input",t)}},watch:{search:function(){this.getTeams()}},data:function(){return{teams:[],search:"",loading:!1}},mounted:function(){this.getTeams()}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.single?[n("v-select",{attrs:{label:t.label,items:t.teams,value:t.value,loading:t.loading,"item-text":"name","item-value":"_id","return-object":"",autocomplete:"","search-input":t.search},on:{input:t.select,"update:searchInput":function(e){t.search=e}}})]:[n("v-select",{attrs:{label:t.label,items:t.teams,value:t.search,filter:function(e,n){return!t.value.some(function(t){return t._id===e._id})&&e.name.includes(n)},search:t.search,loading:t.loading,"item-text":"name","item-value":"_id","return-object":"",autocomplete:"","search-input":t.search},on:{input:t.add,"update:searchInput":function(e){t.search=e}}}),t._v(" "),t._l(t.value,function(e){return n("v-chip",{key:e._id,staticClass:"chip--select-multi",attrs:{close:""},on:{input:function(n){t.remove(e)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])})]],2)},staticRenderFns:[]};var b=n("VU/8")(g,x,!1,function(t){n("wJQz")},"data-v-7b9b8966",null).exports,j={name:"people-select",props:{value:{type:Array},label:{type:String}},methods:{getPeople:function(){var t=this;this.loading=!0;var e={};this.search&&(e.where='{"name": {"$regex": ".*'+this.search+'.*"}}'),l.get("people",{params:e}).then(function(e){t.loading=!1,t.people=e.data._items})},remove:function(t){this.$emit("input",this.value.filter(function(e){return e._id!==t._id}))},add:function(t){this.search=null,this.$emit("input",this.value.concat(t)),console.log(t)}},watch:{search:function(){this.getPeople()}},data:function(){return{people:[],search:"",loading:!1}},mounted:function(){this.getPeople()}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-select",{attrs:{label:t.label,items:t.people,value:t.search,filter:function(e,n){return!t.value.some(function(t){return t._id===e._id})&&e.name.includes(n)},search:t.search,loading:t.loading,"item-text":"name","item-value":"_id","return-object":"",autocomplete:"","search-input":t.search},on:{input:t.add,"update:searchInput":function(e){t.search=e}}}),t._v(" "),t._l(t.value,function(e){return n("v-chip",{key:e._id,staticClass:"chip--select-multi",attrs:{close:""},on:{input:function(n){t.remove(e)}}},[t._v("\n    "+t._s(e.name)+"\n  ")])})],2)},staticRenderFns:[]};var $=n("VU/8")(j,k,!1,function(t){n("ijA3")},"data-v-3267ad63",null).exports,w={components:{PeopleSelect:$,TeamsSelect:b},props:{value:{type:Object,required:!0}},name:"project",data:function(){return{project:this.value,edited:!1,loading:!1,created:!1}},mounted:function(){0===u()(this.project).length&&(this.edited=!0,this.created=!0,this.project=this.default())},methods:{createProject:function(){var t=this;this.loading=!0,l.post("projects",{title:this.project.title,short_description:this.project.short_description,full_description:this.project.full_description,link:this.project.link,progress:this.project.progress,source:this.project.source,team:this.project.team&&this.project.team._id,company:this.project.company,mentors:this.project.mentors.map(function(t){return t._id})},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(e){t.project=d()(t.project,e.data),t.$emit("input",t.project),t.loading=!1,t.edited=!1,t.created=!1})},updateProject:function(){var t=this;this.loading=!0,l.put("projects/"+this.project._id,{title:this.project.title,short_description:this.project.short_description,progress:this.project.progress,full_description:this.project.full_description,link:this.project.link,source:this.project.source,team:this.project.team&&this.project.team._id,company:this.project.company,mentors:this.project.mentors.map(function(t){return t._id})},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(e){t.loading=!1,t.edited=!1})},deleteProject:function(){var t=this;this.loading=!0,this.project._id?l.delete("projects/"+this.project._id).then(function(e){t.loading=!1,t.$emit("delete",t.project)}):this.$emit("delete",this.project)},default:function(){return{title:"",short_description:"",full_description:"",link:"",progress:0,source:"",company:"",team:{},mentors:[]}}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-text",[n("v-container",[n("v-layout",[n("v-flex",{attrs:{xs11:""}},[t.edited?[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Название проекта",required:""},model:{value:t.project.title,callback:function(e){t.$set(t.project,"title",e)},expression:"project.title"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-slider",{attrs:{label:"Прогресс","thumb-label":""},model:{value:t.project.progress,callback:function(e){t.$set(t.project,"progress",e)},expression:"project.progress"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Короткое описание",counter:120,"multi-line":"",rows:"2",required:""},model:{value:t.project.short_description,callback:function(e){t.$set(t.project,"short_description",e)},expression:"project.short_description"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Полное описание","multi-line":"",rows:"20",required:""},model:{value:t.project.full_description,callback:function(e){t.$set(t.project,"full_description",e)},expression:"project.full_description"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Ссылка на проект"},model:{value:t.project.link,callback:function(e){t.$set(t.project,"link",e)},expression:"project.link"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Ссылка на исходный код"},model:{value:t.project.source,callback:function(e){t.$set(t.project,"source",e)},expression:"project.source"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("teams-select",{attrs:{label:"Команда",single:""},model:{value:t.project.team,callback:function(e){t.$set(t.project,"team",e)},expression:"project.team"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("people-select",{attrs:{label:"Менторы"},model:{value:t.project.mentors,callback:function(e){t.$set(t.project,"mentors",e)},expression:"project.mentors"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Партнёр"},model:{value:t.project.company,callback:function(e){t.$set(t.project,"company",e)},expression:"project.company"}})],1)],1)]:[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs2:""}},[n("v-badge",{attrs:{right:"",overlap:"",color:"grey lighten-3",value:Object.keys(t.project.team||{}).length}},[n("v-icon",{attrs:{slot:"badge"},slot:"badge"},[t._v("group")]),t._v(" "),n("v-avatar",{staticStyle:{position:"absolute",margin:"5px"},attrs:{color:"pink lighten-3"}},[t._v("\n                    "+t._s()+"\n                  ")]),t._v(" "),n("v-progress-circular",{staticStyle:{transform:"scale(-1, 1)"},attrs:{value:t.project.progress,size:58,rotate:-90,color:"pink"}})],1)],1),t._v(" "),n("v-flex",{attrs:{xs10:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("p",{staticClass:"mb-0 title"},[t._v("\n                      "+t._s(t.project.title)+"\n                    ")])]),t._v(" "),t.project.company?n("v-flex",{attrs:{xs12:""}},[n("p",{staticClass:"subheading"},[t._v("\n                      От\n                      "),n("v-chip",[n("v-avatar",{attrs:{color:"red lighten-2"}},[t._v(" "+t._s(t.project.company.slice(0,1)))]),t._v("\n                        "+t._s(t.project.company)+"\n                      ")],1)],1)]):t._e()],1)],1)],1),t._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("p",{staticClass:"subheading"},[t._v("\n                  "+t._s(t.project.short_description)+"\n                ")])])],1)]],2),t._v(" "),n("v-flex",{attrs:{xs1:""}},[t.$root.auth&&!t.edited?n("v-btn",{attrs:{flat:"",fab:"",icon:""},on:{click:function(e){t.edited=!0}}},[n("v-icon",[t._v("edit")])],1):t._e(),t._v(" "),t.edited?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:t.loading},on:{click:t.deleteProject}},[n("v-icon",[t._v("delete")])],1):t._e(),t._v(" "),t.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:t.loading},on:{click:t.createProject}},[n("v-icon",[t._v("save")])],1):t._e(),t._v(" "),t.edited&&!t.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:t.loading},on:{click:t.updateProject}},[n("v-icon",[t._v("done")])],1):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var P={name:"projects",components:{Project:n("VU/8")(w,y,!1,function(t){n("P+PV")},"data-v-b4506bd2",null).exports},data:function(){return{projects:[]}},mounted:function(){this.get()},methods:{get:function(){var t=this;l.get("projects",{params:{embedded:'{"team":1, "mentors":1}'}}).then(function(e){t.projects=e.data._items})},add:function(){this.projects.unshift({})},remove:function(t){t._id?this.projects=this.projects.filter(function(e){return e._id!==t._id}):this.projects.splice(0,1)}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-md":"",fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[t._l(t.projects,function(e,a){return[n("v-flex",{attrs:{"offset-xs3":"",xs6:""}},[n("project",{key:e._id,attrs:{value:e},on:{delete:t.remove}})],1)]})],2),t._v(" "),t.$root.auth?n("v-btn",{attrs:{fab:"",fixed:"",right:"",bottom:"",color:"pink"},on:{click:t.add}},[n("v-icon",[t._v("add")])],1):t._e()],1)},staticRenderFns:[]};var R=n("VU/8")(P,T,!1,function(t){n("58LR")},"data-v-f00618aa",null).exports,V={components:{PeopleSelect:$},props:{value:{type:Object,required:!0}},name:"team",data:function(){return{team:this.value,edited:!1,loading:!1,created:!1}},mounted:function(){0===u()(this.team).length&&(this.edited=!0,this.created=!0,this.team={name:"",people:[]})},methods:{createTeam:function(){var t=this;this.loading=!0,l.post("teams",{name:this.team.name,people:this.team.people.map(function(t){return t._id})},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(e){t.team=d()(t.team,e.data),t.$emit("input",t.team),t.loading=!1,t.edited=!1,t.created=!1})},updateTeam:function(){var t=this;this.loading=!0,l.put("teams/"+this.team._id,{name:this.team.name,people:this.team.people.map(function(t){return t._id})},{auth:{username:this.$root.username,password:this.$root.password}}).then(function(e){t.loading=!1,t.edited=!1})},deleteTeam:function(){var t=this;this.loading=!0,this.team._id?l.delete("teams/"+this.team._id).then(function(e){t.loading=!1,t.$emit("delete",t.team)}):this.$emit("delete",this.team)}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-text",[n("v-container",[n("v-layout",[n("v-flex",{attrs:{xs11:""}},[t.edited?n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Имя"},model:{value:t.team.name,callback:function(e){t.$set(t.team,"name",e)},expression:"team.name"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("people-select",{attrs:{label:"Члены команды"},model:{value:t.team.people,callback:function(e){t.$set(t.team,"people",e)},expression:"team.people"}})],1)],1):n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[t._v("\n              "+t._s(t.team.name)+"\n            ")]),t._v(" "),n("v-flex",{attrs:{xs12:""}},t._l(t.team.people,function(e){return n("v-chip",{key:e.id},[t._v("\n                "+t._s(e.name)+"\n              ")])}))],1)],1),t._v(" "),n("v-flex",{attrs:{xs1:""}},[t.edited?t._e():n("v-btn",{attrs:{flat:"",fab:"",icon:""},on:{click:function(e){t.edited=!0}}},[n("v-icon",[t._v("edit")])],1),t._v(" "),t.edited?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:t.loading},on:{click:t.deleteTeam}},[n("v-icon",[t._v("delete")])],1):t._e(),t._v(" "),t.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:t.loading},on:{click:t.createTeam}},[n("v-icon",[t._v("save")])],1):t._e(),t._v(" "),t.edited&&!t.created?n("v-btn",{attrs:{flat:"",fab:"",icon:"",loading:t.loading},on:{click:t.updateTeam}},[n("v-icon",[t._v("done")])],1):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var U={name:"teams",components:{Team:n("VU/8")(V,E,!1,function(t){n("TAfY")},"data-v-d7bbdc84",null).exports},data:function(){return{teams:null,dialog:!1,newTeam:{name:"",people:[]},edited:{}}},methods:{add:function(){this.teams.unshift({})},remove:function(t){t._id?this.teams=this.teams.filter(function(e){return e._id!==t._id}):this.teams.splice(0,1)},get:function(){var t=this;l.get("teams",{params:{embedded:'{"people":1}'}}).then(function(e){t.teams=e.data._items})}},mounted:function(){this.get()}},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[t._l(t.teams,function(e,a){return[n("v-flex",{attrs:{xs4:""}},[n("team",{key:e._id,attrs:{value:e},on:{input:function(e){t.teams[a]=e},delete:t.remove}})],1)]})],2),t._v(" "),n("v-btn",{attrs:{fab:"",fixed:"",right:"",bottom:"",color:"pink"},on:{click:t.add}},[n("v-icon",[t._v("add")])],1)],1)},staticRenderFns:[]},F=n("VU/8")(U,q,!1,null,null,null).exports,S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",[n("v-flex",{attrs:{"offset-xs4":"",xs4:""}},[n("v-card",[n("v-card-text",[n("v-text-field",{attrs:{label:"Юзернейм"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),n("v-text-field",{attrs:{label:"Пароль",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("v-btn",{attrs:{block:""},on:{click:t.login}},[t._v("\n            Войти\n          ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var A=n("VU/8")({name:"Login",data:function(){return{username:"",password:""}},methods:{login:function(){this.$root.username=this.username,this.$root.password=this.password,this.$root.auth=!0,this.$router.push({name:"Projects"})}}},S,!1,function(t){n("7MGH")},"data-v-54ff083a",null).exports;a.a.use(i.a);var C=new i.a({mode:"history",routes:[{path:"/people",name:"People",component:_},{path:"/projects",name:"Projects",component:R},{path:"/teams",name:"Teams",component:F},{path:"/login",name:"Login",component:A}]}),L=n("3EgV"),O=n.n(L);n("7zck");a.a.use(O.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:C,components:{App:s},data:function(){return{auth:!1,username:"",password:""}},template:"<App/>"})},"P+PV":function(t,e){},TAfY:function(t,e){},YqK5:function(t,e){},ijA3:function(t,e){},wJQz:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2a00c84758820f3cd5ce.js.map